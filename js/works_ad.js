var data = [
  // 房地產1
  {
    industry: "房地產",
    client: "海悅廣告",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate01.png",
  },
  // 房地產2
  {
    industry: "房地產",
    client: "新聯陽廣告",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate02.png",
  },
  // 房地產3
  {
    industry: "房地產",
    client: "甲山林機構",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate03.png",
  },
  // 房地產4
  {
    industry: "房地產",
    client: "漢華廣告",
    type: "#簡訊行銷-大數據篩選",
    type2: "#數位行銷-FB/Google廣告",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate04.png",
  },
  // 房地產5
  {
    industry: "房地產",
    client: "興富發建設",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate05_b.png",
  },
  // 房地產6
  {
    industry: "房地產",
    client: "璞園建設",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate06_b.png",
  },
  // 房地產7
  {
    industry: "房地產",
    client: "富宇建設",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate07_b.png",
  },
  // 房地產8
  {
    industry: "房地產",
    client: "創意家廣告",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate08_b.png",
  },
  // 房地產9
  {
    industry: "房地產",
    client: "京城建設",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate09.png",
  },
  // 房地產10
  {
    industry: "房地產",
    client: "福懋建設",
    type: "#簡訊行銷-大數據篩選",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate10.png",
  },
  // 房地產11
  {
    industry: "房地產",
    client: "上揚國際",
    type: "#簡訊行銷-大數據篩選",
    type2: "#數位行銷-FB/Google廣告",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate11.png",
  },
  // 房地產12
  {
    industry: "房地產",
    client: "興聯誠廣告",
    type: "#簡訊行銷-大數據篩選",
    type2: "#數位行銷-FB/Google廣告",
    txt: "為不同建案曝光精準受眾。",
    image: "images/works_ad/real_estate12.png",
  },
  // 流行時尚1
  {
    industry: "流行時尚",
    client: "男研堂",
    type: "#簡訊行銷-消費篩選",
    txt: "憑簡訊至百貨櫃位兌換商品活動。",
    image: "images/works_ad/style01.png",
  },
  // 流行時尚2
  {
    industry: "流行時尚",
    client: "三友藥妝",
    type: "#簡訊行銷-線下篩選/LBS",
    txt: "單店推廣&新店開幕活動憑簡訊享優惠折扣。",
    image: "images/works_ad/style02.png",
  },
  // 流行時尚3
  {
    industry: "流行時尚",
    client: "Dior",
    type: "#會員簡訊平台-圖文簡訊",
    txt: "會員維繫、優惠活動通知。",
    image: "images/works_ad/style03.png",
  },
  // 流行時尚4
  {
    industry: "流行時尚",
    client: "MAKE UP FOR EVER",
    type: "#會員簡訊平台-圖文簡訊",
    txt: "會員維繫、優惠活動通知。",
    image: "images/works_ad/style04.png",
  },
  // 流行時尚5
  {
    industry: "流行時尚",
    client: "名留集團",
    type: "#簡訊行銷-大數據篩選",
    txt: "年中慶活動區域曝光，憑簡訊享折扣優惠。",
    image: "images/works_ad/style05.png",
  },
  // 流行時尚6
  {
    industry: "流行時尚",
    client: "MITCH．覓去",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期活動宣傳曝光，網址導入LINE官方帳號。",
    image: "images/works_ad/single07.png",
  },
  // 流行時尚7
  {
    industry: "流行時尚",
    client: "美麗線時尚醫美診所",
    type: "#簡訊行銷-大數據簡訊",
    txt: "優惠活動推廣，吸引新客加入LINE官方帳號。",
    image: "images/works_ad/style08.png",
  },
  // 流行時尚8
  {
    industry: "流行時尚",
    client: "朵薩SPA",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期優惠活動宣傳曝光，網址導入活動頁面。",
    image: "images/works_ad/style09.png",
  },
  // 眼鏡業1
  {
    industry: "眼鏡業",
    client: "仁愛眼鏡",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期活動宣傳曝光，憑簡訊享優惠好禮。",
    image: "images/works_ad/style06.png",
  },
  // 眼鏡業2
  {
    industry: "眼鏡業",
    client: "米蘭．米藍",
    type: "#簡訊行銷-LBS文字簡訊",
    txt: "檔期優惠活動區域曝光，憑簡訊享來店禮。",
    image: "images/works_ad/style07.png",
  },
  // 百貨1
  {
    industry: "百貨業",
    client: "新光三越",
    type: "#簡訊行銷-LBS文字簡訊",
    txt: "周年慶活動推廣通知，網址導入活動頁面。",
    image: "images/works_ad/mall01.png",
  },
  // 百貨2
  {
    industry: "百貨業",
    client: "BELLAVITA",
    type: "#簡訊行銷-區域住戶篩選",
    txt: "活動資訊推廣通知，網址導入活動頁面。",
    image: "images/works_ad/mall02.png",
  },
  // 百貨3
  {
    industry: "百貨業",
    client: "義享時尚廣場",
    type: "#簡訊行銷-線下篩選/LBS",
    txt: "周年慶活動推廣通知，網址導入活動頁面。",
    image: "images/works_ad/mall03.png",
  },
  // 百貨4
  {
    industry: "百貨業",
    client: "漢神百貨",
    type: "#簡訊行銷-LBS圖文簡訊",
    txt: "憑簡訊享折扣禮，活動推廣通知，網址導入活動頁面。",
    image: "images/works_ad/mall04.png",
  },
  // 餐飲1
  {
    industry: "餐飲業",
    client: "海底撈",
    type: "#會員簡訊平台-文字簡訊",
    txt: "會員維繫、檔期活動通知。",
    image: "images/works_ad/food01.png",
  },
  // 餐飲2
  {
    industry: "餐飲業",
    client: "乾杯集團",
    type: "#會員簡訊平台-文字簡訊",
    txt: "活動資訊推廣通知，網址導入活動頁面。",
    image: "images/works_ad/food02.png",
  },
  // 餐飲3
  {
    industry: "餐飲業",
    client: "圓稼嚼感飲品",
    type: "#簡訊行銷-線下篩選/LBS",
    txt: "檔期優惠活動推廣，網址導入活動頁面。",
    image: "images/works_ad/food03.png",
  },
  // 餐飲4
  {
    industry: "餐飲業",
    client: "柏克金啤酒餐廳",
    type: "#簡訊行銷-線下篩選",
    txt: "檔期優惠活動推廣，網址導入活動頁面。",
    image: "images/works_ad/food04.png",
  },
  // 教育1
  {
    industry: "教育產業",
    client: "康橋國際學校",
    type: "#簡訊行銷-大數據篩選",
    txt: "招生、招師資訊宣傳曝光，網址導入學校介紹頁面。",
    image: "images/works_ad/edu01.png",
  },
  // 教育2
  {
    industry: "教育產業",
    client: "台南應用科技大學",
    type: "#數位行銷-FB廣告",
    txt: "二技、四技、碩士在職專班招生，引導至招生簡章頁面。",
    image: "images/works_ad/edu02.png",
  },
  // 教育3
  {
    industry: "教育產業",
    client: "國立體育大學",
    type: "#數位行銷-FB/關鍵字廣告",
    type2: "#會員簡訊平台-文字簡訊",
    txt: "招生檔期宣傳宣傳曝光。",
    image: "images/works_ad/edu03.png",
  },
  // 教育4
  {
    industry: "教育產業",
    client: "明光義塾補習班",
    type: "#簡訊行銷-大數據篩選",
    type2: "#會員簡訊平台-圖文簡訊",
    txt: "招生檔期宣傳宣傳曝光，維繫。",
    image: "images/works_ad/edu04.png",
  },
  // 政府1
  {
    industry: "政府機構",
    client: "高雄市政府交通局",
    type: "#簡訊行銷-LBS文字簡訊",
    txt: "2022高雄燈會，交通疏散宣導簡訊。",
    image: "images/works_ad/gov01.png",
  },
  // 政府2
  {
    industry: "政府機構",
    client: "財政部北區國稅局",
    type: "#會員簡訊平台-圖文簡訊",
    txt: "推廣納稅義務人使用行動支付工具繳納綜合所得稅。",
    image: "images/works_ad/gov02.png",
  },
  // 政府3
  {
    industry: "政府機構",
    client: "新北市政府水利局",
    type: "#簡訊行銷-文字簡訊",
    txt: "",
    image: "images/works_ad/gov03.png",
  },
  // 政府4
  {
    industry: "政府機構",
    client: "南投縣政府",
    type: "#簡訊行銷-文字簡訊",
    txt: "針對附近住戶做交通宣導。",
    image: "images/works_ad/gov04.png",
  },
  // 汽車1
  {
    industry: "汽車產業",
    client: "鼎隆汽車-INFINITI",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期活動宣傳曝光，網址導入預約試乘登記頁面。",
    image: "images/works_ad/car01.png",
  },
  // 汽車2
  {
    industry: "汽車產業",
    client: "右達汽車-MAZDA",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期優惠活動區域曝光，搭配活動頁面，引導預約賞車。",
    image: "images/works_ad/car02.png",
  },
  // 汽車3
  {
    industry: "汽車產業",
    client: "桃鈴汽車-SUZUKI",
    type: "#簡訊行銷-大數據簡訊",
    type2: "#活動網頁製作",
    txt: "憑簡訊享優惠方案。",
    image: "images/works_ad/car03.png",
  },
  // 汽車4
  {
    industry: "汽車產業",
    client: "誠隆汽車-NISSAN",
    type: "#簡訊行銷-大數據篩選",
    txt: "檔期活動宣傳曝光，網址導入預約試乘表單頁面。",
    image: "images/works_ad/car04.png",
  },
  // 零售1
  {
    industry: "其他零售業",
    client: "車麗屋汽車百貨",
    type: "#簡訊行銷-大數據篩選",
    type2: "#會員簡訊平台-文字簡訊",
    txt: "檔期活動推廣。",
    image: "images/works_ad/single01.png",
  },
  // 零售2
  {
    industry: "其他零售業",
    client: "麗嬰房",
    type: "#簡訊行銷-大數據簡訊",
    txt: "檔期活動區域宣傳曝光。",
    image: "images/works_ad/single02.png",
  },
  // 零售3
  {
    industry: "其他零售業",
    client: "LA NEW老牛皮",
    type: "#簡訊行銷-大數據簡訊",
    type2: "#參數簡訊",
    txt: "憑簡訊享優惠折扣。",
    image: "images/works_ad/single05.png",
  },
];

var products = "",
  industries = "",
  clients = "",
  types = "";
// types2 = "";

for (var i = 0; i < data.length; i++) {
  var industry = data[i].industry,
    client = data[i].client,
    type = data[i].type,
    type2 = data[i].type2,
    txt = data[i].txt,
    image = data[i].image;

  if (typeof type2 === "undefined") {
    type2 = "";
  }

  //create product cards
  products +=
    "<div class='one_feature product' data-industry='" +
    industry +
    "'><div class='img'><img src=" +
    image +
    "></div>" +
    "<div class='title' data-client='" +
    client +
    "'>" +
    client +
    "</div>" +
    "<div class='txt'><p class='subtitle' data-type='" +
    type +
    "'>" +
    type +
    "</p>" +
    "<p class='subtitle' data-type2='" +
    type2 +
    "'>" +
    type2 +
    "</p>" +
    "<p class='txt' data-txt='" +
    txt +
    "'>" +
    txt +
    "</p>" +
    "</div></div>";

  //create dropdown of makes
  if (
    industries.indexOf(
      "<option value='" + industry + "'>" + industry + "</option>"
    ) == -1
  ) {
    industries += "<option value='" + industry + "'>" + industry + "</option>";
  }

  //create dropdown of models
  //   if (
  //     models.indexOf("<option value='" + model + "'>" + model + "</option>") == -1
  //   ) {
  //     models += "<option value='" + model + "'>" + model + "</option>";
  //   }

  //create dropdown of types
  //   if (
  //     types.indexOf("<option value='" + type + "'>" + type + "</option>") == -1
  //   ) {
  //     types += "<option value='" + type + "'>" + type + "</option>";
  //   }
}

$("#products").html(products);
$(".filter-industry").append(industries);
// $(".filter-client").append(clients);
// $(".filter-type").append(types);
// $(".filter-type2").append(types2);

var filtersObject = {};

//on filter change
$(".filter").on("change", function () {
  var filterName = $(this).data("filter"),
    filterVal = $(this).val();

  if (filterVal == "") {
    delete filtersObject[filterName];
  } else {
    filtersObject[filterName] = filterVal;
  }

  var filters = "";

  for (var key in filtersObject) {
    if (filtersObject.hasOwnProperty(key)) {
      filters += "[data-" + key + "='" + filtersObject[key] + "']";
      console.log($(".product").filter(filters).length);
      console.log($(".product:hidden").filter(filters).length);
      if ($(".product").filter(filters).length != 0) {
        $("#loadMore").text("").addClass("noContent");
      }
    }
  }

  if (filters == "") {
    $(".product").show();
    $(".product").css("display", "none");
    $(".product").slice(0, 8).show();
    $("#loadMore").html("<span>載入更多</span>").removeClass("noContent");
  } else {
    $(".product").hide();
    $(".product").hide().filter(filters).show();
  }
});

//on search form submit
$("#search-form").submit(function (e) {
  e.preventDefault();
  var query = $("#search-form input").val().toLowerCase();

  $(".product").hide();
  $(".product").each(function () {
    var industry = $(this).data("industry").toLowerCase(),
      client = $(this).data("client").toLowerCase(),
      type = $(this).data("type").toLowerCase();
    type2 = $(this).data("type2").toLowerCase();

    if (
      industry.indexOf(query) > -1 ||
      client.indexOf(query) > -1 ||
      type.indexOf(query) > -1 ||
      type2.indexOf(query) > -1
    ) {
      $(this).show();
    }
  });
});

$(".product").css("display", "none");
$(".product").slice(0, 8).show();
$("#loadMore").on("click", function (e) {
  e.preventDefault();
  $(".product:hidden").slice(0, 8).fadeIn("slow");
  if ($(".product:hidden").length == 0) {
    $("#loadMore").text("").addClass("noContent");
  }
});
